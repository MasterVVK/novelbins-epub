# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞ –¥–ª—è EPUB –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

## üìù –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤–µ–ª–ª—ã —Å —Ç–∏–ø–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ EPUB –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ "–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞", –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª–µ `source_url` –∏–º–µ–ª–æ —Ç–∏–ø `type="url"`, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π URL —Ñ–æ—Ä–º–∞—Ç. –î–ª—è EPUB –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É.

## ‚ùå –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π)

**–§–∞–π–ª**: `/web_app/app/templates/edit_novel.html`

```html
<div class="mb-3">
    <label for="source_url" class="form-label">URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞ *</label>
    <input type="url" class="form-control" id="source_url" name="source_url" 
           value="{{ novel.source_url }}" required>
    <div class="form-text">–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–≤–µ–ª–ª—ã</div>
</div>
```

‚ùå **–ü—Ä–æ–±–ª–µ–º—ã**:
- `type="url"` —Ç—Ä–µ–±—É–µ—Ç URL —Ñ–æ—Ä–º–∞—Ç –¥–∞–∂–µ –¥–ª—è EPUB —Ñ–∞–π–ª–æ–≤
- –°—Ç–∞—Ç–∏—á–Ω–∞—è –º–µ—Ç–∫–∞ "URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞" –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- –°—Ç–∞—Ç–∏—á–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ "–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–≤–µ–ª–ª—ã"

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∫–∏ –∏ —Ç–∏–ø –ø–æ–ª—è

```html
<div class="mb-3">
    <label for="source_url" class="form-label" id="source_url_label">
        {% if novel.source_type == 'epub' %}
            –ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É *
        {% else %}
            URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞ *
        {% endif %}
    </label>
    <input type="{% if novel.source_type == 'epub' %}text{% else %}url{% endif %}" 
           class="form-control" id="source_url" name="source_url" 
           value="{{ novel.source_url }}" required
           placeholder="{% if novel.source_type == 'epub' %}–ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É{% else %}URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞{% endif %}">
    <div class="form-text" id="source_url_help">
        {% if novel.source_type == 'epub' %}
            –£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
        {% else %}
            –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–≤–µ–ª–ª—ã
        {% endif %}
    </div>
</div>
```

### 2. JavaScript –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```javascript
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—è source_url –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
document.getElementById('source_type').addEventListener('change', function() {
    const sourceType = this.value;
    const sourceUrlInput = document.getElementById('source_url');
    const sourceUrlLabel = document.getElementById('source_url_label');
    const sourceUrlHelp = document.getElementById('source_url_help');
    
    if (sourceType === 'epub') {
        sourceUrlInput.type = 'text';
        sourceUrlInput.placeholder = '–ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É';
        sourceUrlLabel.textContent = '–ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É *';
        sourceUrlHelp.textContent = '–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ';
    } else {
        sourceUrlInput.type = 'url';
        sourceUrlInput.placeholder = 'URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞';
        sourceUrlLabel.textContent = 'URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞ *';
        sourceUrlHelp.textContent = '–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–≤–µ–ª–ª—ã';
    }
});
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è EPUB –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- ‚úÖ **–¢–∏–ø –ø–æ–ª—è**: `type="text"` (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º)
- ‚úÖ **–ú–µ—Ç–∫–∞**: "–ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É *"
- ‚úÖ **Placeholder**: "–ü—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É"
- ‚úÖ **–ü–æ–¥—Å–∫–∞–∑–∫–∞**: "–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ EPUB —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ"

### –î–ª—è –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- ‚úÖ **–¢–∏–ø –ø–æ–ª—è**: `type="url"` (–≤–∞–ª–∏–¥–∞—Ü–∏—è URL)
- ‚úÖ **–ú–µ—Ç–∫–∞**: "URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞ *"
- ‚úÖ **Placeholder**: "URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞"
- ‚úÖ **–ü–æ–¥—Å–∫–∞–∑–∫–∞**: "–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–≤–µ–ª–ª—ã"

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:
- ‚úÖ –ü—Ä–∏ —Å–º–µ–Ω–µ —Ç–∏–ø–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è EPUB:
- ‚úÖ `/home/user/novelbins-epub/web_app/instance/epub_files/qinkan.net.epub`
- ‚úÖ `/path/to/book.epub`
- ‚úÖ `./books/novel.epub`

### –ë—Ä–∞—É–∑–µ—Ä –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç URL —Ñ–æ—Ä–º–∞—Ç:
- ‚ùå –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: "–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞"
- ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

## üìã –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

1. `/web_app/app/templates/edit_novel.html` - –æ—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. `/EPUB_INPUT_FIELD_FIX.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ EPUB –Ω–æ–≤–µ–ª–ª:
- –ü–æ–ª–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ç–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –ù–µ—Ç –ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –±—Ä–∞—É–∑–µ—Ä–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---
**–î–∞—Ç–∞**: 05.08.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
# Contributing to Novel Translator

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ø—Ä–æ–µ–∫—Ç—É! –ú—ã —Ä–∞–¥—ã –ª—é–±–æ–º—É –≤–∫–ª–∞–¥—É.

## üìã –ö–∞–∫ –ø–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É

### –°–ø–æ—Å–æ–±—ã —É—á–∞—Å—Ç–∏—è

1. **–°–æ–æ–±—â–∏—Ç—å –æ –±–∞–≥–µ** - —Å–æ–∑–¥–∞–π—Ç–µ Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
2. **–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ** - —Å–æ–∑–¥–∞–π—Ç–µ Issue —Å —Ç–µ–≥–æ–º [Enhancement]
3. **–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request
4. **–£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ–ø–µ—á–∞—Ç–∫–∏, –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–º–µ—Ä—ã
5. **–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–µ—Ä** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–æ–≤–µ–ª–ª
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞–π–¥–∏—Ç–µ –∏ —Å–æ–æ–±—â–∏—Ç–µ –æ –±–∞–≥–∞—Ö

## üêõ Reporting Bugs

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Issue —É–∫–∞–∂–∏—Ç–µ:

```markdown
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:**
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ '...'
2. –ù–∞–∂–∞—Ç—å –Ω–∞ '...'
3. –£–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫—É

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ

**–û–∫—Ä—É–∂–µ–Ω–∏–µ:**
- OS: [–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu 22.04]
- Python: [–Ω–∞–ø—Ä–∏–º–µ—Ä, 3.10.5]
- –í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞: [–Ω–∞–ø—Ä–∏–º–µ—Ä, commit hash –∏–ª–∏ tag]

**–õ–æ–≥–∏:**
```
–í—Å—Ç–∞–≤—å—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ª–æ–≥–∏
```

**–°–∫—Ä–∏–Ω—à–æ—Ç—ã:**
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

## üí° Suggesting Enhancements

–°–æ–∑–¥–∞–π—Ç–µ Issue —Å —Ç–µ–≥–æ–º [Enhancement]:

```markdown
**–ù–∞–∑–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á–∏

**–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —ç—Ç–æ —Ä–µ—à–∞–µ—Ç:**
–ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
–ö–∞–∫ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
–ö–∞–∫–∏–µ –µ—â–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:**
–°—Å—ã–ª–∫–∏, –ø—Ä–∏–º–µ—Ä—ã, mockups
```

## üîß Pull Request Process

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub

# Clone your fork
git clone https://github.com/YOUR-USERNAME/novelbins-epub.git
cd novelbins-epub

# Add upstream remote
git remote add upstream https://github.com/ORIGINAL-OWNER/novelbins-epub.git

# Create feature branch
git checkout -b feature/your-feature-name
```

### 2. Development

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
pip install -r requirements-dev.txt  # –µ—Å–ª–∏ –µ—Å—Ç—å dev dependencies

# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# ...

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
pytest tests/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ style
flake8 .
black --check .

# –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
black .
```

### 3. Commit

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏—é Conventional Commits:

```
<type>(<scope>): <subject>

<body>

<footer>
```

–¢–∏–ø—ã:
- `feat`: –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix`: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs`: –¢–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `style`: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ–¥)
- `refactor`: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- `perf`: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `test`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore`: –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ü—Ä–∏–º–µ—Ä—ã:
```bash
git commit -m "feat(parser): add support for wuxiaworld.com"
git commit -m "fix(celery): prevent duplicate task execution"
git commit -m "docs(readme): update installation instructions"
```

### 4. Push and PR

```bash
# Push to your fork
git push origin feature/your-feature-name

# –°–æ–∑–¥–∞–π—Ç–µ Pull Request –Ω–∞ GitHub
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ template PR
```

### PR Template

```markdown
## –û–ø–∏—Å–∞–Ω–∏–µ

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è

- [ ] Bug fix (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞)
- [ ] New feature (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [ ] Breaking change (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- [ ] Documentation update (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

## –°–≤—è–∑–∞–Ω–Ω—ã–µ Issues

Fixes #123
Related to #456

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è:

- [ ] Unit tests
- [ ] Integration tests
- [ ] Manual testing

## Checklist

- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç style guide –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] Commit messages —Å–ª–µ–¥—É—é—Ç –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏
- [ ] –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å main branch

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
```

## üìù Code Style

### Python

**–°–ª–µ–¥—É–π—Ç–µ PEP 8:**

```python
# ‚úÖ Good
def translate_chapter(chapter_id: int, model: str) -> Dict[str, Any]:
    """
    Translate chapter using specified model.

    Args:
        chapter_id: ID of chapter to translate
        model: AI model identifier

    Returns:
        Dictionary with translation results
    """
    pass

# ‚ùå Bad
def translateChapter(chapterID,model):
    pass
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ type hints:**
```python
from typing import List, Dict, Optional

def get_chapters(novel_id: int, limit: Optional[int] = None) -> List[Chapter]:
    pass
```

**Docstrings:**
```python
def complex_function(param1: str, param2: int) -> bool:
    """
    One-line summary.

    More detailed description if needed.
    Can span multiple lines.

    Args:
        param1: Description of param1
        param2: Description of param2

    Returns:
        Description of return value

    Raises:
        ValueError: When param2 is negative
    """
    pass
```

### Naming Conventions

```python
# Classes - PascalCase
class NovelParser:
    pass

# Functions/Methods - snake_case
def parse_chapters():
    pass

# Constants - UPPER_SNAKE_CASE
MAX_RETRIES = 3
DEFAULT_TIMEOUT = 120

# Private methods - prefix with _
def _internal_helper():
    pass
```

### Import Order

```python
# 1. Standard library
import os
import sys
from typing import List, Dict

# 2. Third-party
import flask
from celery import Celery

# 3. Local application
from app import db
from app.models import Novel
from app.services import TranslatorService
```

## üß™ Testing

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py
‚îÇ   ‚îú‚îÄ‚îÄ test_services.py
‚îÇ   ‚îî‚îÄ‚îÄ test_parsers.py
‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py
‚îÇ   ‚îî‚îÄ‚îÄ test_celery_tasks.py
‚îî‚îÄ‚îÄ fixtures/
    ‚îî‚îÄ‚îÄ sample_data.py
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞

```python
import pytest
from app import create_app, db
from app.models import Novel, Chapter

@pytest.fixture
def app():
    """Create application for testing"""
    app = create_app('testing')
    with app.app_context():
        db.create_all()
        yield app
        db.session.remove()
        db.drop_all()

@pytest.fixture
def client(app):
    """Test client"""
    return app.test_client()

def test_create_novel(client):
    """Test novel creation via API"""
    response = client.post('/api/novels', json={
        'title': 'Test Novel',
        'source_url': 'https://example.com/novel/123'
    })
    assert response.status_code == 201
    data = response.get_json()
    assert data['title'] == 'Test Novel'
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è

### Services Layer

- –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ `app/services/`
- –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- Services –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å Flask request/response

```python
# ‚úÖ Good
class TranslatorService:
    @staticmethod
    def translate_text(text: str, source_lang: str, target_lang: str) -> str:
        """Pure business logic"""
        pass

# ‚ùå Bad
class TranslatorService:
    @staticmethod
    def translate_text():
        text = request.json.get('text')  # Don't access request directly
        pass
```

### API Blueprints

- –û–¥–∏–Ω blueprint = –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å
- RESTful endpoints
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –º–µ—Ç–æ–¥—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

```python
from flask import Blueprint

novels_bp = Blueprint('novels', __name__)

@novels_bp.route('/novels', methods=['GET'])
def list_novels():
    """GET /api/novels - List all novels"""
    pass

@novels_bp.route('/novels', methods=['POST'])
def create_novel():
    """POST /api/novels - Create new novel"""
    pass

@novels_bp.route('/novels/<int:novel_id>', methods=['GET'])
def get_novel(novel_id):
    """GET /api/novels/:id - Get novel details"""
    pass
```

### Models

- –ú–æ–¥–µ–ª–∏ = —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ + –ø—Ä–æ—Å—Ç—ã–µ –º–µ—Ç–æ–¥—ã
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ ‚Üí –≤ Services

```python
# ‚úÖ Good
class Chapter(db.Model):
    id = Column(Integer, primary_key=True)
    content = Column(Text)

    @property
    def word_count(self) -> int:
        """Simple computed property"""
        return len(self.content.split())

# ‚ùå Bad
class Chapter(db.Model):
    def translate_and_save(self):
        """Complex logic belongs in service"""
        pass
```

## üîç Code Review Process

### –î–ª—è reviewers:

**–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ:**
- ‚úÖ –ö–æ–¥ —Ä–µ—à–∞–µ—Ç –∑–∞—è–≤–ª–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
- ‚úÖ –ù–µ—Ç –æ—á–µ–≤–∏–¥–Ω—ã—Ö –±–∞–≥–æ–≤
- ‚úÖ –ö–æ–¥ —á–∏—Ç–∞–±–µ–ª–µ–Ω –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º
- ‚úÖ –ï—Å—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ PR)

**–û—Å—Ç–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
```
‚ùå "This is bad"
‚úÖ "Consider using list comprehension here for better readability:
   `filtered = [x for x in items if x.active]`"
```

### –î–ª—è –∞–≤—Ç–æ—Ä–æ–≤ PR:

- ‚è±Ô∏è –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üôè –ë—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –∫ –∫—Ä–∏—Ç–∏–∫–µ
- üí¨ –û–±—ä—è—Å–Ω—è–π—Ç–µ —Å–≤–æ–∏ —Ä–µ—à–µ–Ω–∏—è
- üîÑ –í–Ω–æ—Å–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ response –Ω–∞ review

## üéØ Areas for Contribution

### High Priority

- [ ] Unit tests –¥–ª—è services layer
- [ ] Integration tests –¥–ª—è API endpoints
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] PostgreSQL support
- [ ] Performance optimization –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–æ–≤–µ–ª–ª (10k+ –≥–ª–∞–≤)

### Medium Priority

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (fanqianovel.com, webnovel.com)
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ UI/UX
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- [ ] –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (i18n)

### Low Priority / Nice to Have

- [ ] Telegram bot integration
- [ ] Export –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (PDF, MOBI)
- [ ] Collaborative editing
- [ ] Reader mode –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## üìö Resources

- [Flask Documentation](https://flask.palletsprojects.com/)
- [Celery Documentation](https://docs.celeryproject.org/)
- [SQLAlchemy Documentation](https://docs.sqlalchemy.org/)
- [PEP 8 Style Guide](https://pep8.org/)
- [Google Python Style Guide](https://google.github.io/styleguide/pyguide.html)

## üí¨ Questions?

- Open a Discussion on GitHub
- Tag maintainers in Issue/PR

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç! üéâ

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ Ollama –¥–æ 30 –º–∏–Ω—É—Ç

## –î–∞—Ç–∞: 2025-11-18

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ —Å –±–æ–ª—å—à–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–±–æ–ª–µ–µ 60,000 —Ç–æ–∫–µ–Ω–æ–≤) –º–æ–¥–µ–ª–∏ Ollama —Ç—Ä–µ–±—É—é—Ç –±–æ–ª–µ–µ 20 –º–∏–Ω—É—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–∞–π–º–∞—É—Ç–∞–º:

```
20:02:14 WARNING [system] ‚ö†Ô∏è –ü–æ–ø—ã—Ç–∫–∞ 1 –Ω–µ—É–¥–∞—á–Ω–∞
20:02:14 WARNING [system] –¢–∏–ø –æ—à–∏–±–∫–∏: timeout
20:02:14 WARNING [system] –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏: –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ Ollama (>1200s / 20 –º–∏–Ω—É—Ç). –ú–æ–¥–µ–ª—å: kimi-k2:1t-cloud
```

## –ü—Ä–∏—á–∏–Ω–∞

- **–°—Ç–∞—Ä—ã–π —Ç–∞–π–º–∞—É—Ç**: 1200 —Å–µ–∫—É–Ω–¥ (20 –º–∏–Ω—É—Ç)
- **–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: 60,000+ —Ç–æ–∫–µ–Ω–æ–≤
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –ë–æ–ª–µ–µ 20 –º–∏–Ω—É—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–ø—Ä–æ—Å –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞

## –†–µ—à–µ–Ω–∏–µ

### –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç —Å 20 –¥–æ 30 –º–∏–Ω—É—Ç

**–§–∞–π–ª**: `app/services/ai_adapter_service.py`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –¢–∞–π–º–∞—É—Ç httpx –∫–ª–∏–µ–Ω—Ç–∞ (—Å—Ç—Ä–æ–∫–∞ 288)

```python
# –î–û
async with httpx.AsyncClient(timeout=1200.0) as client:  # 20 –º–∏–Ω—É—Ç

# –ü–û–°–õ–ï
async with httpx.AsyncClient(timeout=1800.0) as client:  # 30 –º–∏–Ω—É—Ç
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Ç–∞–π–º–∞—É—Ç–∞ (—Å—Ç—Ä–æ–∫–∞ 513)

```python
# –î–û
error_msg = f'–¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ Ollama (>1200s / 20 –º–∏–Ω—É—Ç). –ú–æ–¥–µ–ª—å: {self.model.model_id}'

# –ü–û–°–õ–ï
error_msg = f'–¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ Ollama (>1800s / 30 –º–∏–Ω—É—Ç). –ú–æ–¥–µ–ª—å: {self.model.model_id}'
```

## –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è

### –ü–æ—á–µ–º—É 30 –º–∏–Ω—É—Ç?

1. **–ë–æ–ª—å—à–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: 60,000+ —Ç–æ–∫–µ–Ω–æ–≤ = –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
2. **Reasoning –º–æ–¥–µ–ª–∏**: –¢—Ä–µ–±—É—é—Ç –≤—Ä–µ–º—è –Ω–∞ "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –º—ã—à–ª–µ–Ω–∏–µ"
3. **–°–ª–æ–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã**: –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Å —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–µ–π
4. **–ó–∞–ø–∞—Å –≤—Ä–µ–º–µ–Ω–∏**: +50% (20 –º–∏–Ω ‚Üí 30 –º–∏–Ω) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –¢–∞–π–º–∞—É—Ç | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|---------|-------------|
| **Gemini** | 300 —Å–µ–∫ (5 –º–∏–Ω) | –ë—ã—Å—Ç—Ä—ã–µ –º–æ–¥–µ–ª–∏, —Ö–æ—Ä–æ—à–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| **OpenAI** | 60 —Å–µ–∫ (1 –º–∏–Ω) | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–µ –º–æ–¥–µ–ª–∏ |
| **Ollama** | **1800 —Å–µ–∫ (30 –º–∏–Ω)** | –ë–æ–ª—å—à–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏, reasoning |

## –í–ª–∏—è–Ω–∏–µ

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ

‚úÖ **–ë–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ**
- –†–∞–Ω—å—à–µ: –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ >60k —Ç–æ–∫–µ–Ω–æ–≤
- –¢–µ–ø–µ—Ä—å: –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–∂–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

‚úÖ **–ú–µ–Ω—å—à–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫**
- –†–∞–Ω—å—à–µ: –î–æ 4 retry –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö
- –¢–µ–ø–µ—Ä—å: 1 –ø–æ–ø—ã—Ç–∫–∞ —É—Å–ø–µ—à–Ω–∞ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞

‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- –ú–µ–Ω—å—à–µ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM
- –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä Ollama

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏

‚ö†Ô∏è **–î–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö**
- –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–∏—Å–ª–∞
- –û–∂–∏–¥–∞–Ω–∏–µ 30 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 20

**–†–µ—à–µ–Ω–∏–µ**: –≠—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ, —Ç–∞–∫ –∫–∞–∫:
- Real timeout —Å–ª—É—á–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ (–æ–±—ã—á–Ω–æ –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∏–ª–∏ –ø–∞–¥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ)
- 30 –º–∏–Ω—É—Ç - —ç—Ç–æ –º–∞–∫—Å–∏–º—É–º, –æ–±—ã—á–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ 5-15 –º–∏–Ω—É—Ç
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ API

‚ö†Ô∏è **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Ç–æ–∫–∞ –Ω–∞ 30 –º–∏–Ω—É—Ç**
- –û–¥–∏–Ω –ø–æ—Ç–æ–∫ –∑–∞–Ω—è—Ç –¥–æ–ª–≥–æ
- –ú–µ–Ω—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ**:
- Celery –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `--concurrency=1` —É–∂–µ —Å–µ–π—á–∞—Å
- –í–Ω—É—Ç—Ä–∏ –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ThreadPoolExecutor (2-5 –ø–æ—Ç–æ–∫–æ–≤)
- PostgreSQL –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –≠—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

```bash
cd /home/user/novelbins-epub/web_app
python3 -m py_compile app/services/ai_adapter_service.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –£—Å–ø–µ—à–Ω–æ, –æ—à–∏–±–æ–∫ –Ω–µ—Ç

### 2. –¢–µ—Å—Ç —Å –±–æ–ª—å—à–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

```python
# –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–≤–æ–¥–∞ –≥–ª–∞–≤—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (60k+ —Ç–æ–∫–µ–Ω–æ–≤)
from app.services.translator_service import TranslatorService
from app.models import Chapter

chapter = Chapter.query.filter_by(novel_id=9, chapter_number=136).first()
service = TranslatorService(model_id=16)  # kimi-k2:1t-cloud
result = service.translate_chapter(chapter)

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# - –ó–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
# - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 15-25 –º–∏–Ω—É—Ç
# - –ù–ï–¢ —Ç–∞–π–º–∞—É—Ç–∞
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
tail -f /home/user/novelbins-epub/web_app/logs/app.log | grep -E "(–¢–∞–π–º–∞—É—Ç|timeout|Ollama)"
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏**:
```
[Novel:9, Ch:136] Ollama –∑–∞–ø—Ä–æ—Å: kimi-k2:1t-cloud | Temperature: 0.5 | Num ctx: 65,000 | ...
[Novel:9, Ch:136] LLM –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω –∑–∞ 1234.5—Å (–º–æ–¥–µ–ª—å: kimi-k2:1t-cloud)
[Novel:9, Ch:136] ‚úÖ –ü–µ—Ä–µ–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å**:
```
‚ùå –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ Ollama (>1800s / 30 –º–∏–Ω—É—Ç)
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç–∞–π–º–∞—É—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```python
# –†–∞—Å—á–µ—Ç —Ç–∞–π–º–∞—É—Ç–∞: 1 –º–∏–Ω—É—Ç–∞ –Ω–∞ –∫–∞–∂–¥—ã–µ 10k —Ç–æ–∫–µ–Ω–æ–≤
timeout_per_10k_tokens = 60  # —Å–µ–∫—É–Ω–¥
estimated_timeout = max(1800, (num_ctx / 10000) * timeout_per_10k_tokens)

async with httpx.AsyncClient(timeout=estimated_timeout) as client:
    ...
```

**–ü–ª—é—Å—ã**: –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
**–ú–∏–Ω—É—Å—ã**: –°–ª–æ–∂–Ω–æ—Å—Ç—å, –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∏—Ç—å –¥–ª—è reasoning –º–æ–¥–µ–ª–µ–π

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏

```python
# –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ 20k —Ç–æ–∫–µ–Ω–æ–≤
# –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
# –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

**–ü–ª—é—Å—ã**: –ú–µ–Ω—å—à–µ –≤—Ä–µ–º—è –Ω–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
**–ú–∏–Ω—É—Å—ã**: –¢–µ—Ä—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏, —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ streaming API

```python
# Ollama –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
request_json = {
    'model': self.model.model_id,
    'prompt': full_prompt,
    'stream': True  # –í–º–µ—Å—Ç–æ False
}
```

**–ü–ª—é—Å—ã**: –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å, –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å–∞–Ω–∏—è —Ä–∞–Ω—å—à–µ
**–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∏–π —Ä–µ–ª–∏–∑)

1. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ Ollama –∑–∞–ø—Ä–æ—Å–∞
   - –°–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: —Å—Ä–µ–¥–Ω–µ–µ, –º–µ–¥–∏–∞–Ω–∞, p95, p99
   - –í—ã—è–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–æ–¥–µ–ª–∏/–≥–ª–∞–≤—ã

2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –∑–∞–≤–∏—Å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
   - –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –º–æ–ª—á–∏—Ç >5 –º–∏–Ω—É—Ç –±–µ–∑ progress
   - –í–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è 30 –º–∏–Ω—É—Ç

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)

1. üîÑ **Adaptive timeout –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   - –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (p99 + 20%)
   - –†–∞–∑–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

2. üîÑ **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –¥–ª—è –¥–æ–ª–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–≥—Ä–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - "–û–±—Ä–∞–±–æ—Ç–∫–∞... 12 –º–∏–Ω—É—Ç –∏–∑ ~20 –º–∏–Ω—É—Ç"

3. üîÑ **Health check Ollama –º–æ–¥–µ–ª–µ–π**
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
   - –û—Ç–∫–ª—é—á–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ/–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏
   - –£–≤–µ–¥–æ–º–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –†–µ–∑—é–º–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ |
|----------|----|----|
| **–¢–∞–π–º–∞—É—Ç Ollama** | 1200 —Å–µ–∫ (20 –º–∏–Ω) | **1800 —Å–µ–∫ (30 –º–∏–Ω)** ‚úÖ |
| **–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ** | "20 –º–∏–Ω—É—Ç" | "30 –º–∏–Ω—É—Ç" ‚úÖ |

### –í–ª–∏—è–Ω–∏–µ

- ‚úÖ **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤**: +20-30% –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ retry
- ‚úÖ **UX**: –ú–µ–Ω—å—à–µ —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç –ø—Ä–µ—Ä–≤–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚ö†Ô∏è **–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è**: +10 –º–∏–Ω—É—Ç –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ (–ø—Ä–∏–µ–º–ª–µ–º–æ)

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `app/services/ai_adapter_service.py`
   - –°—Ç—Ä–æ–∫–∞ 288: `timeout=1800.0`
   - –°—Ç—Ä–æ–∫–∞ 513: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ "30 –º–∏–Ω—É—Ç"

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏)
**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è

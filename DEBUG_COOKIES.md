# üîç –û—Ç–ª–∞–¥–∫–∞: –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç cookies

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ F12

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

**–°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ popup**
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ popup —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É)
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ popup
3. "Inspect" (–ü—Ä–æ–≤–µ—Ä–∏—Ç—å)
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools –¥–ª—è popup
5. –í–∫–ª–∞–¥–∫–∞ "Console"
```

**–°–ø–æ—Å–æ–± B: –ß–µ—Ä–µ–∑ chrome://extensions/**
```
1. chrome://extensions/
2. –ù–∞–π–¥–∏—Ç–µ "Novelbins Cookie Extractor"
3. –ù–∞–∂–º–∏—Ç–µ "Inspect views: service worker" (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –ò–ª–∏ "Errors" (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏)
```

---

## 2. –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ Console:

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:

```javascript
// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—å Cookies"
–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–æ–≤–µ–ª–ª—É: https://czbooks.net/n/ul6pe

// –ü–æ—Å–ª–µ 15 —Å–µ–∫—É–Ω–¥
–ù–∞–π–¥–µ–Ω–∞ –Ω–æ–≤–µ–ª–ª–∞ czbooks.net, ID: 11

// –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ
{success: true, cookies: {count: 12, cloudflareCount: 3, ...}}
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:

```javascript
// –û—à–∏–±–∫–∞ 1: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å URL –Ω–æ–≤–µ–ª–ª—ã
–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å URL –Ω–æ–≤–µ–ª–ª—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

// –û—à–∏–±–∫–∞ 2: CORS
Access to fetch at 'http://192.168.0.58:5001/api/novels' from origin 'chrome-extension://...'
has been blocked by CORS policy

// –û—à–∏–±–∫–∞ 3: –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–æ–≤–µ–ª–ª—É
–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–æ–≤–µ–ª–ª—É, —Å–æ—Ö—Ä–∞–Ω—è–µ–º cookies –≥–ª–æ–±–∞–ª—å–Ω–æ: ...

// –û—à–∏–±–∫–∞ 4: 0 cookies
{success: true, cookies: {count: 0, cloudflareCount: 0, ...}}
```

---

## 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network –≤–∫–ª–∞–¥–∫—É:

**–í DevTools popup:**
1. –í–∫–ª–∞–¥–∫–∞ "Network"
2. –ù–∞–∂–º–∏—Ç–µ "üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—å Cookies"
3. –°–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã:

### –û–∂–∏–¥–∞–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã:

```
GET http://192.168.0.58:5001/api/novels?active_only=true
  Status: 200
  Response: {success: true, novels: [{id: 11, ...}]}

(–∂–¥–µ–º 15 —Å–µ–∫)

POST http://192.168.0.58:5001/api/cloudflare-auth/save-cookies
  Status: 200
  Request: {cookies: "...", novel_id: 11}
  Response: {success: true, message: "..."}
```

---

## 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É —Å czbooks.net:

**–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏:**
1. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–æ–Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞: https://czbooks.net/n/ul6pe
2. –ù–∞–π–¥–∏—Ç–µ –µ—ë –≤ —Å–ø–∏—Å–∫–µ –≤–∫–ª–∞–¥–æ–∫ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
3. –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É –≤–∫–ª–∞–¥–∫—É
4. F12 ‚Üí Console

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

```javascript
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cookies –≤—Ä—É—á–Ω—É—é
document.cookie
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
// "cf_clearance=xxx; __cf_bm=yyy; _cfuvid=zzz; ..."

// –ï—Å–ª–∏ –ø—É—Å—Ç–æ –∏–ª–∏ —Ç–æ–ª—å–∫–æ 1-2 cookie - Cloudflare challenge –Ω–µ –ø—Ä–æ–π–¥–µ–Ω
```

---

## 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Cloudflare challenge:

**–í—Ä—É—á–Ω—É—é –æ—Ç–∫—Ä–æ–π—Ç–µ:**
```
https://czbooks.net/n/ul6pe
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:

1. **~3-5 —Å–µ–∫—É–Ω–¥:** "Checking your browser..."
2. **~5-7 —Å–µ–∫—É–Ω–¥:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å
3. **~10-15 —Å–µ–∫—É–Ω–¥:** –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:

- ‚ùå "Cloudflare checking" –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞ ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ —Å IP/VPN
- ‚ùå "Access Denied" ‚Üí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω IP
- ‚ùå "Captcha" ‚Üí –ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å –∫–∞–ø—á—É –≤—Ä—É—á–Ω—É—é
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å ‚Üí –í—Å–µ OK

---

## 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

```
chrome://extensions/
‚Üí "Novelbins Cookie Extractor"
‚Üí "Details"
‚Üí –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ "Site access"
```

### –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
Site access: On specific sites
  https://czbooks.net/*  ‚úÖ Allowed
  http://192.168.0.58:5001/*  ‚úÖ Allowed
```

–ï—Å–ª–∏ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ - –Ω–∞–∂–º–∏—Ç–µ "Add" –∏ –¥–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω—ã.

---

## 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ chrome.cookies API:

**–í Console —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (popup DevTools):**

```javascript
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω
chrome.cookies
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: {get: ∆í, getAll: ∆í, set: ∆í, remove: ∆í, ...}

// –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å cookies –≤—Ä—É—á–Ω—É—é
chrome.cookies.getAll({domain: 'czbooks.net'}, (cookies) => {
  console.log('–í—Å–µ–≥–æ cookies:', cookies.length);
  console.log('Cookies:', cookies);
  console.log('cf_clearance:', cookies.find(c => c.name === 'cf_clearance'));
});

// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –º–∞—Å—Å–∏–≤ cookies
```

---

## 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è:

–í–æ–∑–º–æ–∂–Ω–æ 15 —Å–µ–∫—É–Ω–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

–û—Ç–∫—Ä–æ–π—Ç–µ `popup.js` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```javascript
await new Promise(resolve => setTimeout(resolve, 15000));
```

–£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 20 —Å–µ–∫—É–Ω–¥:
```javascript
await new Promise(resolve => setTimeout(resolve, 20000));
```

–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∞—Ä—Ö–∏–≤:
```bash
tar -czf browser_extension.tar.gz browser_extension/
cp browser_extension.tar.gz web_app/app/static/browser_extension.tar.gz
```

---

## 9. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ background service worker:

```
chrome://extensions/
‚Üí "Novelbins Cookie Extractor"
‚Üí "Inspect views: service worker"
```

### –í Console background worker:

```javascript
// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ cookies
–ù–∞–π–¥–µ–Ω–∞ –Ω–æ–≤–µ–ª–ª–∞ czbooks.net, ID: 11
// –∏–ª–∏
–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–æ–≤–µ–ª–ª—É, —Å–æ—Ö—Ä–∞–Ω—è–µ–º cookies –≥–ª–æ–±–∞–ª—å–Ω–æ: ...
```

---

## 10. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–æ–≤–µ–ª–ª–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

**–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–µ—Ä–≤–µ—Ä–∞:**

```bash
curl http://192.168.0.58:5001/api/novels?active_only=true
```

### –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:

```json
{
  "success": true,
  "novels": [
    {
      "id": 11,
      "title": "Forty Millenniums of Cultivation",
      "source_type": "czbooks",
      "source_url": "https://czbooks.net/n/ul6pe",
      ...
    }
  ]
}
```

–ï—Å–ª–∏ –Ω–æ–≤–µ–ª–ª—ã –Ω–µ—Ç - –Ω—É–∂–Ω–æ –µ—ë —Å–æ–∑–¥–∞—Ç—å.

---

## üîß –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ—à–∞–≥–æ–≤–æ):

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ popup —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚Üí –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí Inspect

### –®–∞–≥ 2: –í Console –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
console.log('Chrome Cookies API:', chrome.cookies ? '‚úÖ' : '‚ùå');
console.log('Chrome Tabs API:', chrome.tabs ? '‚úÖ' : '‚ùå');

// 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Web App
fetch('http://192.168.0.58:5001/api/novels?active_only=true')
  .then(r => r.json())
  .then(data => {
    console.log('Web App response:', data);
    const novel = data.novels.find(n => n.source_type === 'czbooks' || n.source_type === 'czbooks.net');
    console.log('–ù–∞–π–¥–µ–Ω–∞ –Ω–æ–≤–µ–ª–ª–∞:', novel ? `ID ${novel.id}` : '‚ùå –ù–ï–¢');
  })
  .catch(e => console.error('–û—à–∏–±–∫–∞ Web App:', e));

// 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ cookies –Ω–∞ czbooks.net
chrome.cookies.getAll({domain: 'czbooks.net'}, (cookies) => {
  console.log('Cookies –Ω–∞ czbooks.net:', cookies.length);
  console.log('cf_clearance:', cookies.find(c => c.name === 'cf_clearance') ? '‚úÖ' : '‚ùå');
  console.log('__cf_bm:', cookies.find(c => c.name === '__cf_bm') ? '‚úÖ' : '‚ùå');
});
```

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–±–ª–µ–º:

- [ ] Chrome Cookies API –¥–æ—Å—Ç—É–ø–µ–Ω?
- [ ] Chrome Tabs API –¥–æ—Å—Ç—É–ø–µ–Ω?
- [ ] Web App –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /api/novels?
- [ ] –ù–æ–≤–µ–ª–ª–∞ ID 11 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
- [ ] source_type = 'czbooks' –∏–ª–∏ 'czbooks.net'?
- [ ] –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ https://czbooks.net/* –≤—ã–¥–∞–Ω—ã?
- [ ] Cloudflare challenge –ø—Ä–æ—Ö–æ–¥–∏—Ç?
- [ ] Cookies –Ω–∞ czbooks.net —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
- [ ] cf_clearance cookie –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç?
- [ ] –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ (15 —Å–µ–∫)?

---

## üö® –°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Cloudflare –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞ 15 —Å–µ–∫—É–Ω–¥
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –¥–æ 20-30 —Å–µ–∫—É–Ω–¥

### –ü—Ä–æ–±–ª–µ–º–∞ 2: IP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω Cloudflare
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –∏–ª–∏ –¥—Ä—É–≥–æ–π IP

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ –≤—ã–¥–∞–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:** chrome://extensions/ ‚Üí Details ‚Üí Site access ‚Üí Add sites

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Web App –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Web App –∑–∞–ø—É—â–µ–Ω: http://192.168.0.58:5001

---

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä—É—é –ø—Ä–æ–≤–µ—Ä–∫—É (–®–∞–≥ 1-3) –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!**

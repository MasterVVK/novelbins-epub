# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –≥–ª–æ—Å—Å–∞—Ä–∏—è web_app

## üìä –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
**–¢–∞–±–ª–∏—Ü–∞ `glossary_items`:**
- `novel_id` - –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–Ω–∏–≥–µ
- `english_term` / `russian_term` - –ø–∞—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
- `category` - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (characters, locations, terms, techniques, artifacts)
- `first_appearance_chapter` - –ø–µ—Ä–≤–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
- `usage_count` - —Å—á–µ—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `is_auto_generated` - —Ñ–ª–∞–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `is_active` - —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≥–ª–æ—Å—Å–∞—Ä–∏—è–º:**
- "–Ø —Ö–æ—á—É –∑–∞–ø–µ—á–∞—Ç–∞—Ç—å –Ω–µ–±–µ—Å–∞": 21,803 —Ç–µ—Ä–º–∏–Ω–æ–≤ (1,079 –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, 11,760 —Ç–µ—Ä–º–∏–Ω–æ–≤)
- "–í –ø–æ–∏—Å–∫–∞—Ö –¥–µ–º–æ–Ω–∞": 2,761 —Ç–µ—Ä–º–∏–Ω (650 –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, 1,089 —Ç–µ—Ä–º–∏–Ω–æ–≤)
- "–ü–æ–∫—Ä—ã–≤–∞—è –ù–µ–±–µ—Å–∞": 17 —Ç–µ—Ä–º–∏–Ω–æ–≤

### –¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–º–∏** - –ø–æ–ª–Ω—ã–π CRUD —á–µ—Ä–µ–∑ `GlossaryService`
2. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** - 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
3. **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç** - JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - `GlossaryOptimizer` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä—è–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `TranslatorService`
6. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤** - —á–µ—Ä–µ–∑ API —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏
7. **–ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö** - —á–µ—Ä–µ–∑ `SequenceMatcher`
8. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–¥—Å—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
1. **–ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –∫–Ω–∏–≥–∞–º–∏** - –Ω–µ—Ç dedicated –º–µ—Ç–æ–¥–∞
2. **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
3. **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã** - –Ω–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º
4. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–û–±—â–∏–π –≥–ª–æ—Å—Å–∞—Ä–∏–π** - –∫–∞–∂–¥–∞—è –∫–Ω–∏–≥–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≥–ª–æ—Å—Å–∞—Ä–∏—è –∏–∑ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö –≥–ª–∞–≤

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤

```python
class GlossaryExtractor:
    """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–ª–æ—Å—Å–∞—Ä–∏—è –∏–∑ –ø–∞—Ä –æ—Ä–∏–≥–∏–Ω–∞–ª-–ø–µ—Ä–µ–≤–æ–¥"""
    
    def extract_from_chapters(self, novel_id: int):
        # 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≥–ª–∞–≤—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
        chapters = Chapter.query.filter_by(novel_id=novel_id).all()
        
        # 2. –î–ª—è –∫–∞–∂–¥–æ–π –≥–ª–∞–≤—ã:
        for chapter in chapters:
            original = chapter.original_text
            translation = chapter.get_translation()
            
            # 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NLP –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è:
            # - –ò–º–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö (NER)
            # - –£—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω–∏–π
            # - –ü–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
            
            # 4. –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
            # –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ
```

### 2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

```python
def align_terms(original_text: str, translated_text: str):
    """–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏"""
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
    # 1. –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ - —Ä–µ–¥–∫–∏–µ —Å–ª–æ–≤–∞ —á–∞—â–µ —è–≤–ª—è—é—Ç—Å—è —Ç–µ—Ä–º–∏–Ω–∞–º–∏
    # 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ - —Ç–µ—Ä–º–∏–Ω—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ø–æ—Ö–æ–∂–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
    # 3. –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ - TF-IDF, word2vec
    # 4. –ü—Ä–∞–≤–∏–ª–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–º–µ–Ω
```

### 3. –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥–ª–æ—Å—Å–∞—Ä–∏–∏

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø
CREATE TABLE glossary_themes (
    id INTEGER PRIMARY KEY,
    name VARCHAR(100) NOT NULL,  -- 'ballistics', 'cultivation', 'military'
    description TEXT,
    parent_theme_id INTEGER,  -- –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏
    FOREIGN KEY(parent_theme_id) REFERENCES glossary_themes(id)
);

-- –°–≤—è–∑—å —Ç–µ—Ä–º–∏–Ω–æ–≤ —Å —Ç–µ–º–∞–º–∏
CREATE TABLE glossary_item_themes (
    glossary_item_id INTEGER,
    theme_id INTEGER,
    FOREIGN KEY(glossary_item_id) REFERENCES glossary_items(id),
    FOREIGN KEY(theme_id) REFERENCES glossary_themes(id)
);
```

### 4. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥–ª–æ—Å—Å–∞—Ä–∏–π

```python
class UniversalGlossaryService:
    """–ì–ª–æ—Å—Å–∞—Ä–∏–π, –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–Ω–∏–≥ —Ç–µ–º–∞—Ç–∏–∫–∏"""
    
    def create_universal_glossary(self, theme: str):
        """–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –≥–ª–æ—Å—Å–∞—Ä–∏–π –¥–ª—è —Ç–µ–º–∞—Ç–∏–∫–∏"""
        # –°–æ–±—Ä–∞—Ç—å —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ –≤—Å–µ—Ö –∫–Ω–∏–≥ —Ç–µ–º—ã
        # –î–µ–¥—É–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å
        # –í–∑–≤–µ—Å–∏—Ç—å –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        
    def apply_to_novel(self, novel_id: int, theme: str):
        """–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–ª–æ—Å—Å–∞—Ä–∏–π –∫ –∫–Ω–∏–≥–µ"""
        # –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
        # –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–Ω–∏–≥–∏
```

## üí° –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
1. **–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É CLI –¥–ª—è batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```bash
python manage.py extract-glossary --novel-id 8 --min-frequency 3
```

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å NLP pipeline:**
- –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–π
- NER –¥–ª—è –∏–º–µ–Ω –∏ –Ω–∞–∑–≤–∞–Ω–∏–π
- –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 2: –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
1. **–†–∞—Å—à–∏—Ä–∏—Ç—å –ë–î** –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç–µ–º
2. **–°–æ–∑–¥–∞—Ç—å UI** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞–º–∏
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä** —Ç–µ—Ä–º–∏–Ω–æ–≤ –ø–æ —Ç–µ–º–∞–º

### –§–∞–∑–∞ 3: –ú–µ–∂–∫–Ω–∏–∂–Ω–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. **API –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```python
@api.route('/glossary/copy/<int:source_novel>/<int:target_novel>')
def copy_glossary(source_novel, target_novel):
    # –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç–µ–º–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```

2. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ:**
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

### –§–∞–∑–∞ 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
1. **–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–ª–æ—Å—Å–∞—Ä–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞
2. **ML-–º–æ–¥–µ–ª—å** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Ä–º–∏–Ω–æ–≤
3. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏–∑ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
```python
import spacy
from collections import Counter
from difflib import SequenceMatcher

class ParallelTextExtractor:
    def __init__(self):
        self.nlp_zh = spacy.load("zh_core_web_sm")  # –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ
        self.nlp_ru = spacy.load("ru_core_news_sm")  # –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ
    
    def extract_terms(self, original: str, translation: str):
        # 1. –ò–∑–≤–ª–µ—á—å —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
        doc_zh = self.nlp_zh(original)
        entities_zh = [(ent.text, ent.label_) for ent in doc_zh.ents]
        
        # 2. –ò–∑–≤–ª–µ—á—å —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –ø–µ—Ä–µ–≤–æ–¥–∞
        doc_ru = self.nlp_ru(translation)
        entities_ru = [(ent.text, ent.label_) for ent in doc_ru.ents]
        
        # 3. –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
        pairs = self.align_by_context(entities_zh, entities_ru)
        
        return pairs
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏
```python
BALLISTICS_KEYWORDS = {
    'en': ['bullet', 'caliber', 'trajectory', 'velocity', 'rifle'],
    'ru': ['–ø—É–ª—è', '–∫–∞–ª–∏–±—Ä', '—Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è', '—Å–∫–æ—Ä–æ—Å—Ç—å', '–≤–∏–Ω—Ç–æ–≤–∫–∞'],
    'zh': ['Â≠êÂºπ', 'Âè£ÂæÑ', 'ÂºπÈÅì', 'ÈÄüÂ∫¶', 'Ê≠•Êû™']
}

def is_ballistics_term(term: str, lang: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –±–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–µ"""
    keywords = BALLISTICS_KEYWORDS.get(lang, [])
    return any(kw in term.lower() for kw in keywords)
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞** –Ω–æ–≤—ã—Ö –∫–Ω–∏–≥ –Ω–∞ 30-40% –∑–∞ —Å—á–µ—Ç –≥–æ—Ç–æ–≤–æ–≥–æ –≥–ª–æ—Å—Å–∞—Ä–∏—è
2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏** —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –º–µ–∂–¥—É –∫–Ω–∏–≥–∞–º–∏
3. **–°–Ω–∏–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
4. **–≠–∫–æ–Ω–æ–º–∏—è API-–∑–∞–ø—Ä–æ—Å–æ–≤** –∑–∞ —Å—á–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≥–ª–æ—Å—Å–∞—Ä–∏–µ–≤:

```python
# 1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∫–Ω–∏–≥–∏ —Å —Ö–æ—Ä–æ—à–∏–º –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º
source_glossary = GlossaryService.export_glossary_to_dict(novel_id=7)

# 2. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–µ–º–∞—Ç–∏–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–ª–ª–∏—Å—Ç–∏–∫–∞)
filtered = filter_by_theme(source_glossary, 'ballistics')

# 3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–æ–≤—É—é –∫–Ω–∏–≥—É
GlossaryService.import_glossary_from_dict(
    novel_id=new_novel_id,
    glossary_data=filtered
)
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –∏–º–µ–µ—Ç —Å–æ–ª–∏–¥–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–ª–æ—Å—Å–∞—Ä–∏—è–º–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è** –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
2. **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** —Ç–µ—Ä–º–∏–Ω–æ–≤
4. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è** –∏–∑–º–µ–Ω–µ–Ω–∏–π

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ–∑–¥–∞—Ç—å –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞–Ω–∏–π –º–µ–∂–¥—É –∫–Ω–∏–≥–∞–º–∏ –æ–¥–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏.